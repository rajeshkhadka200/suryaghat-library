{"version":3,"sources":["Admin/AdminPages/VerifyImages.js"],"names":["VerifyImages","unverified","useContext","ContexStore","images","filter","data","isverified","disabled","length","style","background","minHeight","className","cursor","onClick","getApi","post","key","then","res","toast","success","setTimeout","window","location","reload","map","image_name","id","src","serverBaseURI","alt","e","response","fireverify","deleteIMG"],"mappings":"yHAAA,0FA2HeA,UAhHM,WACnB,IAEMC,EAFaC,qBAAWC,KAAtBC,OAEkBC,QAAO,SAACC,GAChC,OAA2B,IAApBA,EAAKC,cA0CVC,GAAW,EAIf,OAH0B,IAAtBP,EAAWQ,SACbD,GAAW,GAGX,qCACE,cAAC,IAAD,IACA,cAAC,IAAD,IACA,sBAAKE,MAAO,CAAEC,WAAY,OAAQC,UAAW,SAA7C,UACE,sBAAKC,UAAU,WAAf,UACE,gFACA,qBAAKA,UAAU,cAAf,SACE,wBACEH,MAAO,CACLC,WAAYH,EAAW,OAAS,GAChCM,OAAQN,EAAW,cAAgB,IAErCA,SAAUA,EACVO,QA3CM,WAChBC,IACGC,KAAK,8BAA+B,CACnCC,IAAK,cAENC,MAAK,SAACC,GACLC,IAAMC,QAAQ,oCACdC,YAAW,WACTC,OAAOC,SAASC,WACf,UAmCGb,UAAU,SAPZ,6BAamB,IAAtBZ,EAAWQ,QACV,mBAAGI,UAAU,UAAb,iCAEF,qBAAKA,UAAU,YAAf,SACGZ,EAAW0B,KAAI,SAACrB,EAAMY,GACrB,IAAQU,EAAmBtB,EAAnBsB,WAAYC,EAAOvB,EAAPuB,GACpB,OACE,sBAAKhB,UAAU,SAAf,UACE,qBAAKA,UAAU,eAAf,SACE,qBACEiB,IAAG,UAAKC,IAAL,6CAAuDH,GAC1DI,IAAI,aAIR,sBAAKnB,UAAU,aAAf,UACE,wBACEA,UAAU,SACVE,QAAS,SAACkB,GAAD,OAlFR,SAACJ,EAAID,GACtBZ,IACGC,KAAK,8BAA+B,CACnCY,KACAD,aACAV,IAAK,WAENC,MAAK,SAACe,GACLb,IAAMC,QAAQ,gCACdC,YAAW,WACTC,OAAOC,SAASC,WACf,SAuEyBS,CAAWN,EAAID,IAFjC,oBAMA,wBACElB,MAAO,CACLC,WAAY,0BAEdE,UAAU,SACVE,QAAS,SAACkB,GAAD,OAjET,SAACJ,EAAID,GACrBZ,IACGC,KAAK,8BAA+B,CACnCY,KACAD,eAEDT,MAAK,SAACC,GACLC,IAAMC,QAAQ,iBACdC,YAAW,WACTC,OAAOC,SAASC,WACf,SAuDyBU,CAAUP,EAAID,IALhC","file":"static/js/25.b4811b47.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport { ContexStore } from \"../../ContexStore/ContexStore\";\r\nimport \"../AdminCSS/verImg.css\";\r\nimport AdminNav from \"../AdminComponents/AdminNav\";\r\nimport Check from \"../AdminComponents/Check\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { serverBaseURI } from \"../../Utilities/file.config\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getApi } from \"../../services\";\r\n\r\nconst VerifyImages = () => {\r\n  const { images } = useContext(ContexStore);\r\n  // Check();\r\n  const unverified = images.filter((data) => {\r\n    return data.isverified === 0;\r\n  });\r\n\r\n  const fireverify = (id, image_name) => {\r\n    getApi\r\n      .post(\"/hariBaba/api/img/deleteimg\", {\r\n        id,\r\n        image_name,\r\n        key: \"verify\",\r\n      })\r\n      .then((response) => {\r\n        toast.success(\"Images Verified Successfully\");\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 1500);\r\n      });\r\n  };\r\n  const verifyAll = () => {\r\n    getApi\r\n      .post(\"/hariBaba/api/img/deleteimg\", {\r\n        key: \"verifyall\",\r\n      })\r\n      .then((res) => {\r\n        toast.success(\"All Images Verified Successfully\");\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 1500);\r\n      });\r\n  };\r\n  const deleteIMG = (id, image_name) => {\r\n    getApi\r\n      .post(\"/hariBaba/api/img/deleteimg\", {\r\n        id,\r\n        image_name,\r\n      })\r\n      .then((res) => {\r\n        toast.success(\"Image Deleted\");\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 1500);\r\n      });\r\n  };\r\n  let disabled = false;\r\n  if (unverified.length === 0) {\r\n    disabled = true;\r\n  }\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n      <AdminNav />\r\n      <div style={{ background: \"#fff\", minHeight: \"100vh\" }}>\r\n        <div className=\"veriBlok\">\r\n          <span>All the unverified Images Uploaded by users.</span>\r\n          <div className=\"ver_blk_grp\">\r\n            <button\r\n              style={{\r\n                background: disabled ? \"grey\" : \"\",\r\n                cursor: disabled ? \"not-allowed\" : \"\",\r\n              }}\r\n              disabled={disabled}\r\n              onClick={verifyAll}\r\n              className=\"button\"\r\n            >\r\n              Verify All\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {unverified.length === 0 && (\r\n          <p className=\"no_mesg\">No Images to verify</p>\r\n        )}\r\n        <div className=\"holderV_i\">\r\n          {unverified.map((data, key) => {\r\n            const { image_name, id } = data;\r\n            return (\r\n              <div className=\"i_card\">\r\n                <div className=\"i_holder_ver\">\r\n                  <img\r\n                    src={`${serverBaseURI}/hariBaba/api/uploads/ImageUpload/${image_name}`}\r\n                    alt=\"verify\"\r\n                  />\r\n                  {/* <img src={`/ImagesUpload/${image_name}`} alt=\"verify\" /> */}\r\n                </div>\r\n                <div className=\"btnVer_grp\">\r\n                  <button\r\n                    className=\"button\"\r\n                    onClick={(e) => fireverify(id, image_name)}\r\n                  >\r\n                    Verify\r\n                  </button>\r\n                  <button\r\n                    style={{\r\n                      background: \"rgba(255, 0, 0, 0.459)\",\r\n                    }}\r\n                    className=\"button\"\r\n                    onClick={(e) => deleteIMG(id, image_name)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VerifyImages;\r\n"],"sourceRoot":""}