{"version":3,"sources":["Pages/EditDetails.js"],"names":["EditDetails","history","useHistory","userData","useContext","ContexStore","username","google_id","useState","loading","setloading","editId","useParams","updatedData","setupdatedData","redirect","setRedirect","useEffect","a","getApi","post","then","res","status","data","catch","loadData","user_ck","Cookies","get","pro_id","pro_title","owner_name","pro_desc","sub_cat_title","lang_title","emo_title","genre_title","referenceurl","handleChangeInput","e","target","name","value","editItem","document","querySelector","classList","add","preventDefault","setTimeout","toast","success","remove","push","to","style","minHeight","className","onSubmit","disabled","required","onChange","type","placeholder","id","onClick","height","width","src","serverBaseURI","alt"],"mappings":"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","file":"static/js/26.fb6598b3.chunk.js","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"../Components/Uploading Items/Inserting.css\";\r\nimport { ContexStore } from \"../ContexStore/ContexStore\";\r\nimport Nav from \"../Components/Nav/Nav\";\r\nimport Footer from \"../Utilities/StaticContents/Footer\";\r\nimport { Redirect, useHistory, useParams } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\nimport MainLoder from \"../Utilities/StaticContents/MainLoader\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { serverBaseURI } from \"../Utilities/file.config\";\r\nimport { getApi } from \"../services\";\r\nconst EditDetails = () => {\r\n  const history = useHistory();\r\n  const { userData } = useContext(ContexStore);\r\n  const { username, google_id } = userData;\r\n  const [loading, setloading] = useState(false);\r\n  const { editId } = useParams();\r\n  const [updatedData, setupdatedData] = useState([]);\r\n  const [redirect, setRedirect] = useState(false);\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      getApi\r\n        .post(\"/hariBaba/api/edit\", {\r\n          editId,\r\n          google_id,\r\n        })\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            setupdatedData(res.data[0]);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          setRedirect(true);\r\n        });\r\n    };\r\n    loadData();\r\n  }, [editId]);\r\n  const user_ck = Cookies.get(\"__tcphbl30__\");\r\n  const {\r\n    pro_id,\r\n    pro_title,\r\n    owner_name,\r\n    pro_desc,\r\n    sub_cat_title,\r\n    lang_title,\r\n    emo_title,\r\n    genre_title,\r\n    referenceurl,\r\n  } = updatedData;\r\n  const handleChangeInput = (e) => {\r\n    setupdatedData({ ...updatedData, [e.target.name]: e.target.value });\r\n  };\r\n  const resetData = () => {\r\n    setupdatedData({\r\n      pro_title: \"\",\r\n      owner_name: \"\",\r\n      pro_desc: \"\",\r\n      sub_cat_title: \"\",\r\n      lang_title: \"\",\r\n      emo_title: \"\",\r\n      genre_title: \"\",\r\n      referenceurl: \"\",\r\n    });\r\n  };\r\n  const editItem = async (e) => {\r\n    document.querySelector(\"body\").classList.add(\"hide\");\r\n    setloading(true);\r\n    e.preventDefault();\r\n    await getApi\r\n      .post(\"/hariBaba/api/editall\", {\r\n        pro_id,\r\n        pro_title,\r\n        owner_name,\r\n        pro_desc,\r\n        sub_cat_title,\r\n        lang_title,\r\n        emo_title,\r\n        genre_title,\r\n      })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          setTimeout(() => {\r\n            toast.success(\"Successfully saved the changes\");\r\n            setloading(false);\r\n            document.querySelector(\"body\").classList.remove(\"hide\");\r\n          }, 2000);\r\n        } else {\r\n          setTimeout(() => {\r\n            toast.success(\"Error while saving the changes.\");\r\n            document.querySelector(\"body\").classList.remove(\"hide\");\r\n            setloading(false);\r\n          }, 2000);\r\n        }\r\n      });\r\n  };\r\n  if (!user_ck) {\r\n    history.push(\"/\");\r\n  }\r\n  return (\r\n    <>\r\n      {loading && <MainLoder></MainLoder>}\r\n      {redirect === true && <Redirect to=\"/profile\"></Redirect>}\r\n      <Nav />\r\n      <div style={{ minHeight: \"100vh\" }} className=\"formWrapper\">\r\n        <div className=\"uploadHeader\">\r\n          <p>Edit the details Here</p>\r\n        </div>\r\n        <form onSubmit={editItem}>\r\n          <div className=\"uploadFormControl\">\r\n            <div className=\"uploadIndividual\">\r\n              <label>Enter the Title</label>\r\n              <input\r\n                disabled={loading}\r\n                name=\"pro_title\"\r\n                required\r\n                value={pro_title}\r\n                onChange={handleChangeInput}\r\n                type=\"text\"\r\n                placeholder=\"munamadan the true love story\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"uploadIndividual\">\r\n              <label>Enter refrence url</label>\r\n              <input\r\n                disabled={loading}\r\n                name=\"referenceurl\"\r\n                value={referenceurl}\r\n                onChange={handleChangeInput}\r\n                type=\"text\"\r\n                placeholder=\"https://www.youtube.com/watch?v=2P5X4PG\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"uploadFormControl\">\r\n            <div className=\"uploadIndividual\">\r\n              <label>Enter the Sub category</label>\r\n              <input\r\n                disabled={loading}\r\n                name=\"sub_cat_title\"\r\n                required\r\n                value={sub_cat_title}\r\n                onChange={handleChangeInput}\r\n                type=\"text\"\r\n                placeholder=\"audio clips\"\r\n              />\r\n            </div>\r\n            <div className=\"uploadIndividual\">\r\n              <label>Enter the Language</label>\r\n              <input\r\n                name=\"lang_title\"\r\n                required\r\n                disabled={loading}\r\n                value={lang_title}\r\n                onChange={handleChangeInput}\r\n                type=\"text\"\r\n                placeholder=\"Nepali\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"uploadFormControl\">\r\n            <div className=\"uploadIndividual\">\r\n              <label>Enter the Author Name</label>\r\n              <input\r\n                disabled={loading}\r\n                name=\"owner_name\"\r\n                required\r\n                value={owner_name}\r\n                onChange={handleChangeInput}\r\n                type=\"text\"\r\n                placeholder=\"Laxmi prasad devkota\"\r\n              />\r\n            </div>\r\n            <div className=\"uploadIndividual\">\r\n              <label>Enter Emotion</label>\r\n              <input\r\n                disabled={loading}\r\n                name=\"emo_title\"\r\n                required\r\n                value={emo_title}\r\n                onChange={handleChangeInput}\r\n                type=\"text\"\r\n                placeholder=\"lovely\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"uploadFormControl\">\r\n            <div className=\"uploadIndividual\">\r\n              <label>Enter the Genre</label>\r\n              <input\r\n                disabled={loading}\r\n                name=\"genre_title\"\r\n                required\r\n                value={genre_title}\r\n                onChange={handleChangeInput}\r\n                type=\"text\"\r\n                placeholder=\"pdf\"\r\n              />\r\n            </div>\r\n            <div className=\"uploadIndividual\">\r\n              <label>Your Personal Detail</label>\r\n              <input\r\n                disabled=\"true\"\r\n                required\r\n                value={username}\r\n                type=\"text\"\r\n                placeholder=\"munamadan the true love story\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"uploadFormControl\">\r\n            <div id=\"textarea\" className=\"uploadIndividual\">\r\n              <label>Enter the Content Description</label>\r\n              <textarea\r\n                disabled={loading}\r\n                name=\"pro_desc\"\r\n                required\r\n                value={pro_desc}\r\n                onChange={handleChangeInput}\r\n                placeholder=\"munamadan is the great love story...\"\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"btnGrp_upload\">\r\n            <button disabled={loading} onClick={resetData} type=\"button\">\r\n              Reset\r\n            </button>\r\n            <button disabled={loading} type=\"submit\">\r\n              {loading && (\r\n                <>\r\n                  <img\r\n                    height=\"20px\"\r\n                    width=\"20px\"\r\n                    src={`${serverBaseURI}/hariBaba/api/uploads/Images/loading.jpg`}\r\n                    alt=\"\"\r\n                  />{\" \"}\r\n                </>\r\n              )}\r\n              {loading ? \"Saving Changes...\" : \"Save Changes\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\nexport default EditDetails;\r\n"],"sourceRoot":""}